{"version":3,"file":"static/js/8.chunk.js","sources":["/Users/linyitang/github/newWallet2/src/page/bitcoin/general/balance.jsx"],"sourcesContent":["import React, { Component } from 'react';\n\n\nimport { interval, Observable } from 'rxjs'\nimport { mergeMap } from 'rxjs/operators'\nimport { observer, inject } from 'mobx-react';\n\n@inject('bitcoinStore')\n@observer\nexport default class Balance extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            legacyAddress: this.props.bitcoinStore.legacyAddress,\n            segwitAddress: this.props.bitcoinStore.segwitAddress,\n            testnetAddress: this.props.bitcoinStore.testnetAddress,\n            testnetSegwitAddress: this.props.bitcoinStore.testnetSegwitAddress,\n            litecoinAddress: this.props.bitcoinStore.litecoinAddress\n        }\n    }\n    componentWillMount = () => {\n        this.subscriber1 = interval(1000).pipe(\n            mergeMap(() =>\n                Observable.create((observer) => {\n                    window.$.ajax(`https://blockchain.info/q/addressbalance/${this.state.legacyAddress}`, {\n                        success: (balance) => {\n                            observer.next(balance);\n                        }\n                    })\n                })\n            )).subscribe((btc) => {\n                this.state.lbalance = (btc / 100000000)\n                this.forceUpdate();\n            })\n        this.subscriber2 = interval(1000).pipe(\n            mergeMap(() =>\n                Observable.create((observer) => {\n                    window.$.ajax(`https://blockchain.info/q/addressbalance/${this.state.segwitAddress}`, {\n                        success: (balance) => {\n                            observer.next(balance);\n                        }\n                    })\n                })\n            )).subscribe((btc) => {\n                this.state.sbalance = (btc / 100000000)\n                this.forceUpdate();\n            })\n        this.subscriber3 = interval(1000).pipe(\n            mergeMap(() =>\n                Observable.create((observer) => {\n                    window.$.ajax(`https://testnet.blockchain.info/q/addressbalance/${this.state.testnetAddress}`, {\n                        success: (balance) => {\n                            observer.next(balance);\n                        }\n                    })\n                })\n            )).subscribe((btc) => {\n                this.state.tbalance = (btc / 100000000)\n                this.forceUpdate();\n            })\n        this.subscriber4 = interval(1000).pipe(\n            mergeMap(() =>\n                Observable.create((observer) => {\n                    window.$.ajax(`https://testnet.blockchain.info/q/addressbalance/${this.state.testnetSegwitAddress}`, {\n                        success: (balance) => {\n                            observer.next(balance);\n                        }\n                    })\n                })\n            )).subscribe((btc) => {\n                this.state.tsbalance = (btc / 100000000)\n                this.forceUpdate();\n            })\n        this.subscriber5 = interval(5000).pipe(\n            mergeMap(() =>\n                Observable.create((observer) => {\n                    window.$.ajax(`https://chain.so/api/v2/get_address_balance/ltc/${this.state.litecoinAddress}/24`, {\n                        success: ({ data: { confirmed_balance: balance } }) => {\n                            observer.next(balance / 1);\n                        }\n                    })\n                })\n            )).subscribe((ltc) => {\n                this.state.liteBalance = ltc\n                this.forceUpdate();\n            })\n    }\n\n\n    componentWillUnmount() {\n        this.subscriber1.unsubscribe();\n        this.subscriber2.unsubscribe();\n        this.subscriber3.unsubscribe();\n        this.subscriber4.unsubscribe();\n        this.subscriber5.unsubscribe();\n    }\n    render() {\n        return (\n            // <form>\n                <div className=\"box box-primary\">\n                    <div className=\"box-header with-border\">\n                        <h3 className=\"box-title\">餘額查詢</h3>\n                    </div>\n                    <div className=\"box-body\">\n                        <div className=\"form-group\" >\n                            <label>Bitcoin地址(legacy格式)</label>\n                            <input type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Bitcoin Address\"\n                                defaultValue={this.state.legacyAddress}\n                                disabled\n                            />\n                        </div>\n                        <input className=\"form-control\" value={this.state.sbalance || 0} disabled/>\n                    </div>\n                    <div className=\"box-body\">\n                        <div className=\"form-group\" >\n                            <label>Bitcoin地址(segwit格式)</label>\n                            <input type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Bitcoin Address\"\n                                defaultValue={this.state.segwitAddress}\n                                disabled\n                            />\n                        </div>\n                        <input className=\"form-control\" value={this.state.sbalance || 0} disabled/>\n                    </div>\n                    <div className=\"box-body\">\n                        <div className=\"form-group\" >\n                            <label>Bitcoin Testnet地址(legacy格式)</label>\n                            <input type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Bitcoin Address\"\n                                defaultValue={this.state.testnetAddress}\n                                disabled\n                            />\n                        </div>\n                        <input className=\"form-control\" value={this.state.tbalance || 0} disabled/>\n                    </div>\n                    <div className=\"box-body\">\n                        <div className=\"form-group\" >\n                            <label>Bitcoin Testnet地址(segwit格式)</label>\n                            <input type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Bitcoin Address\"\n                                defaultValue={this.state.testnetSegwitAddress}\n                                disabled\n                            />\n                        </div>\n                        <input className=\"form-control\" value={this.state.tsbalance || 0} disabled/>\n                    </div>\n                    <div className=\"box-body\">\n                        <div className=\"form-group\" >\n                            <label>Litecoin地址</label>\n                            <input type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"LiteCoin Address\"\n                                defaultValue={this.state.litecoinAddress}\n                                disabled\n                            />\n                        </div>\n                        <input className=\"form-control\" value={this.state.liteBalance || 0} disabled/>\n                    </div>\n                </div>\n            // </form>\n        )\n    }\n}\nexport { Balance };"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AACA;AACA;AAIA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAYA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AASA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AASA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AASA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AASA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAHA;AAKA;AAPA;AASA;AACA;AAAA;AACA;AACA;AACA;AA3EA;AACA;AACA;AACA;AACA;AACA;AALA;AAHA;AAUA;AACA;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAjEA;AAqEA;;;;;;;;;;;AA9JA;AAAA;AAgKA;;;;;;;;;;;;AAhKA;;;;;;;;;A","sourceRoot":""}